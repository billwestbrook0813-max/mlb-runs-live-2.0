<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Salami Slider — by The Juice Junkies</title>
  <style>body{font-family:Arial,Helvetica,sans-serif;margin:0;color:#e8eaee;background:#0c0d10}header{display:flex;align-items:center;gap:14px;padding:.6rem 1rem;background:#111;border-bottom:1px solid #242833}.wrap{max-width:1100px;margin:0 auto;padding:1rem}.card{background:#151821;border:1px solid #2b2f3a;border-radius:12px;padding:1rem;margin-bottom:12px}.big{font-size:64px;font-weight:800}</style>
</head>
<body>
  <header><img src="juice-junkies-logo.png" alt="Juice Junkies Logo" style="height:54px;width:auto"><div style="margin-left:auto;color:#a6adbb">Live MLB Daily Total</div></header>
  <main class="wrap">
    <div class="card"><div>Total MLB Runs Today</div><div class="big" id="total">—</div><div>Updated: <span id="updated">—</span></div></div>
    <div class="card"><div>Projected Slate Finish</div><div class="big" id="projFinish">—</div></div>
  </main>
  <script>
    const $=id=>document.getElementById(id), setText=(id,v)=>($(id).textContent=v);
    function fmtPT(d){ return new Intl.DateTimeFormat('en-US',{ timeZone:'America/Los_Angeles', hour:'2-digit', minute:'2-digit', second:'2-digit' }).format(d); }
    async function getProj(){ const r = await fetch(`/api/projection`); if(!r.ok) throw new Error('proj'); return r.json(); }
    async function go(){
      try{
        const p = await getProj();
        setText('total', p.totalRunsScored ?? 0);
        setText('projFinish', Number(p.projectedSlateFinish || 0).toFixed(2));
        setText('updated', fmtPT(new Date()));
      }catch(e){ console.error(e); }
    }
    go(); setInterval(go,15000);
  </script>
</body>
</html>
